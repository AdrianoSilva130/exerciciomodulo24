{
  "stats": {
    "suites": 2,
    "tests": 11,
    "passes": 11,
    "pending": 0,
    "failures": 0,
    "start": "2025-12-16T13:23:17.672Z",
    "end": "2025-12-16T13:23:19.503Z",
    "duration": 1831,
    "testsRegistered": 11,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 317,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n  .post('/public/authUser')\n  .withJson({\n    email: 'admin@admin.com',\n    password: 'admin123'\n  })\n  .expectStatus(200)\n  .returns('data.token');",
          "err": {},
          "uuid": "9ce94e69-436d-4633-bb7b-60aad2c7d6ab",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 264,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n    .post('/public/authUser')\n    .withJson({\n      email: 'admin@admin.com',\n      password: 'admin123'\n    })\n    .expectStatus(200)\n    .returns('data.token');\n  categoryId = await spec()\n    .post('/api/addCategory')\n    .withHeaders('authorization', token)\n    .withJson({\n      name: 'Categoria Setup Teste',\n      description: 'Criada no setup global'\n    })\n    .expectStatus(200)\n    .returns('data._id');\n  console.log(\"Categoria criada no setup:\", categoryId);",
          "err": {},
          "uuid": "a415a196-9133-45d3-a2dd-2df73607141b",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 4,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "addFlowReporter();\nawait mock.start(4000);",
          "err": {},
          "uuid": "1a9cd0f1-bc62-4ad5-a20d-2732bf2b9bf7",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 252,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n  .post('/public/authUser')\n  .withJson({\n    email: 'admin@admin.com',\n    password: 'admin123'\n  })\n  .expectStatus(200)\n  .returns('data.token');",
          "err": {},
          "uuid": "2093680c-6efc-437a-bffb-34ef5b68c1c3",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 263,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n    .post('/public/authUser')\n    .withJson({\n      email: 'admin@admin.com',\n      password: 'admin123'\n    })\n    .expectStatus(200)\n    .returns('data.token');\n  productId = await spec()\n    .post('/api/addProduct')\n    .withHeaders('authorization', token)\n    .withJson({\n      name: 'Produto Setup Teste',\n      description: 'Criada no setup global',\n      price: 10,\n      quantity: 1,\n      visible: true\n    })\n    .expectStatus(200)\n    .returns('data._id');\n  console.log(\"Produto criado no setup:\", productId);",
          "err": {},
          "uuid": "1bdce6fd-cb97-4907-8b53-95f0e4c09b8f",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": true,
          "skipped": false
        }
      ],
      "afterHooks": [
        {
          "title": "\"after all\" hook in \"{root}\"",
          "fullTitle": "\"after all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 86,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await mock.stop();\nawait reporter.end();",
          "err": {},
          "uuid": "896d22d0-112b-48c6-9eb2-326703e5e2bc",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": true,
          "skipped": false
        }
      ],
      "tests": [
        {
          "title": "API - Deve adicionar uma categoria com sucesso",
          "fullTitle": "API - Deve adicionar uma categoria com sucesso",
          "timedOut": false,
          "duration": 11,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "categoryId = await spec()\n  .post('/api/addCategory')\n  .withHeaders('authorization', token)\n  .withJson({\n    name: 'Categoria Automática',\n    description: 'Criada para o teste'\n  })\n  .expectStatus(200)\n  .returns('data._id');\nconsole.log(\"ID criada:\", categoryId);",
          "err": {},
          "uuid": "e0895e79-e766-492b-8334-39068e97cafa",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Não deve adicionar categoria sem token de autorização",
          "fullTitle": "API - Não deve adicionar categoria sem token de autorização",
          "timedOut": false,
          "duration": 9,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await spec()\n  .post('/api/addCategory')\n  .withJson({\n    name: 'Categoria Automática',\n    description: 'Criada para o teste'\n  })\n  .expectStatus(403)\n  .expectJson('success', false);",
          "err": {},
          "uuid": "0be1db86-ad48-459a-829e-542292a7e8e1",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve editar a categoria pelo ID",
          "fullTitle": "API - Deve editar a categoria pelo ID",
          "timedOut": false,
          "duration": 14,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\n  const categoryId = getCategoryId();\n\n  await spec()\n .put(`/api/editCategory/${categoryId}`)\n .withHeaders('authorization', token)\n .withJson({\n   \n   name: 'Categoria Editada Automático',\n   description: 'Categoria atualizada via teste automático'\n })\n .expectStatus(200)\n .expectJsonLike({\n   success: true\n });",
          "err": {},
          "uuid": "f40c36e0-bc1d-4fbb-9598-426edcb1e94c",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve deletar a categoria pelo ID",
          "fullTitle": "API - Deve deletar a categoria pelo ID",
          "timedOut": false,
          "duration": 14,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\n  const categoryId = getCategoryId();\n\n  await spec()\n .delete(`/api/deleteCategory/${categoryId}`)\n .withHeaders('authorization', token)\n .expectStatus(200)\n .expectJsonLike({\n   success: true\n });",
          "err": {},
          "uuid": "fe9b5316-2f02-4331-a942-663717dd1dee",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "CONTRATO - deve validar o contrato ao adicionar categoria",
          "fullTitle": "CONTRATO - deve validar o contrato ao adicionar categoria",
          "timedOut": false,
          "duration": 9,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await flow('Add Category')\n  .useInteraction('Add Category Response')\n  .post('http://localhost:4000/api/addCategory')\n  .withJson({\n    name: 'Categoria Automática',\n    description: 'Criada para o teste'\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n    success: true,\n    data: {\n      _id: like('679f50eb0cf0a913258b286c'),\n      name: like('Categoria Automática'),\n      description: like('Criada para o teste')\n    }\n  });",
          "err": {},
          "uuid": "92f2e4de-0c97-4d6d-853c-686fc37d2a0f",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "CONTRATO - deve validar o contrato ao adicionar produto",
          "fullTitle": "CONTRATO - deve validar o contrato ao adicionar produto",
          "timedOut": false,
          "duration": 3,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await flow('Add Product')\n  .useInteraction('Add Product Response')\n  .post('http://localhost:4000/api/addProduct')\n  .withJson({\n    name: 'Produto Automático',\n    price: 99.9,\n    quantity: 10,\n    visible: true\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n    success: true,\n    data: {\n      _id: like('679f50eb0cf0a913258b999'),\n      name: like('Produto Automático'),\n      price: like(99.9),\n      quantity: like(10),\n      visible: like(true)\n    }\n  });",
          "err": {},
          "uuid": "ef6893fe-4001-4901-975c-6e3528108733",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve adicionar um produto com sucesso",
          "fullTitle": "API - Deve adicionar um produto com sucesso",
          "timedOut": false,
          "duration": 12,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "productId = await spec()\n  .post('/api/addProduct')\n  .withHeaders('authorization', token)\n  .withJson({\n    name: randomName(),\n    price: randomPrice(),\n    quantity: Math.floor(Math.random() * 100),\n    visible: true\n  })\n  .expectStatus(200)\n  .returns('data._id');\nconsole.log(\"ID criada:\", productId);",
          "err": {},
          "uuid": "50347f58-f001-470d-8d29-6cedb28c8174",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve editar o Produto pelo ID",
          "fullTitle": "API - Deve editar o Produto pelo ID",
          "timedOut": false,
          "duration": 13,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\nconst productId = getProductId();\nawait spec()\n  .put(`/api/editProduct/${productId}`)\n  .withHeaders('authorization', token)\n  .withJson({\n    \n    name: randomName(),\n    price: randomPrice(),\n    quantity: randomQuantity(),\n    visible: true,\n    description: 'Produto atualizado via teste automático'\n  })\n  .expectStatus(200)\n  .expectJsonLike({\n    success: true\n  });\n  console.log('Produto editado com sucesso:', productId);",
          "err": {},
          "uuid": "e03cdf3c-9524-4acd-8cfe-b7f2a1ed6ac7",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve deletar o produto",
          "fullTitle": "API - Deve deletar o produto",
          "timedOut": false,
          "duration": 20,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\n  const productId = getProductId();\n\n  await spec()\n .delete(`/api/deleteProduct/${productId}`)\n .withHeaders('authorization', token)\n .expectStatus(200)\n .expectJsonLike({\n   success: true\n });\n console.log('Produto deletado com sucesso:', productId);",
          "err": {},
          "uuid": "9d1a3368-4065-41b4-884f-c17fe4d33591",
          "parentUUID": "7b72687c-745d-4448-b0a7-96ad1ee4d628",
          "isHook": false,
          "skipped": false
        }
      ],
      "suites": [
        {
          "uuid": "76150c07-0f66-41fc-8ef7-d0ad90b6083f",
          "title": "PROVIDER - Add Category",
          "fullFile": "C:\\repositorio\\ExercicioModulo24\\test\\contract\\addCategoryProvider.test.js",
          "file": "\\test\\contract\\addCategoryProvider.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"PROVIDER - Add Category\"",
              "fullTitle": "PROVIDER - Add Category \"before all\" hook in \"PROVIDER - Add Category\"",
              "timedOut": false,
              "duration": 257,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "token = await spec()\n   .post(\"http://lojaebac.ebaconline.art.br/public/authUser\")\n   .withJson({\n     email: \"admin@admin.com\",\n     password: \"admin123\"\n   })\n   .expectStatus(200)\n   .returns(\"data.token\");",
              "err": {},
              "uuid": "4a8ab587-95f2-4f83-a831-f7067c000789",
              "parentUUID": "76150c07-0f66-41fc-8ef7-d0ad90b6083f",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Backend deve cumprir o contrato esperado",
              "fullTitle": "PROVIDER - Add Category Backend deve cumprir o contrato esperado",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await spec()\n  .post(\"http://lojaebac.ebaconline.art.br/api/addCategory\")\n  .withHeaders(\"authorization\", token)\n  .withJson({\n    name: \"Categoria Automática\",\n    description: \"Criada para o teste\"\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n  success: true,\n  data: {\n_id: like(\"string\"),\nname: \"Categoria Automática\",\ncreatedAt: like(\"string\"),\nupdatedAt: like(\"string\"),\n__v: like(0)\n  }\n});",
              "err": {},
              "uuid": "b21807ae-233c-49ae-84ea-a53c2aad06c1",
              "parentUUID": "76150c07-0f66-41fc-8ef7-d0ad90b6083f",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "b21807ae-233c-49ae-84ea-a53c2aad06c1"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 11,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "a3d0ceea-917a-4b79-b3c8-3886355266ad",
          "title": "PROVIDER - Add Product",
          "fullFile": "C:\\repositorio\\ExercicioModulo24\\test\\contract\\addProductProvider.test.js",
          "file": "\\test\\contract\\addProductProvider.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"PROVIDER - Add Product\"",
              "fullTitle": "PROVIDER - Add Product \"before all\" hook in \"PROVIDER - Add Product\"",
              "timedOut": false,
              "duration": 253,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "token = await spec()\n      .post(\"http://lojaebac.ebaconline.art.br/public/authUser\")\n      .withJson({\n        email: \"admin@admin.com\",\n        password: \"admin123\"\n      })\n      .expectStatus(200)\n      .returns(\"data.token\");",
              "err": {},
              "uuid": "cec80a4e-45de-46b9-a1fc-fc29848fda8b",
              "parentUUID": "a3d0ceea-917a-4b79-b3c8-3886355266ad",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Backend deve cumprir o contrato REAL ao adicionar um produto",
              "fullTitle": "PROVIDER - Add Product Backend deve cumprir o contrato REAL ao adicionar um produto",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await spec()\n  .post(\"http://lojaebac.ebaconline.art.br/api/addProduct\")\n  .withHeaders(\"authorization\", token)\n  .withJson({\n    name: \"Produto Automático\",\n    price: 20,\n    quantity: 100,\n    visible: true\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n    success: true,\n    data: {\n      _id: like(\"string\"),\n      name: \"Produto Automático\",\n      price: like(20),\n      quantity: like(100),\n      visible: like(true),\n      createdAt: like(\"string\"),\n      updatedAt: like(\"string\"),\n      __v: like(0)\n    }\n  });",
              "err": {},
              "uuid": "ecc8382a-0920-4684-907f-842506af48ca",
              "parentUUID": "a3d0ceea-917a-4b79-b3c8-3886355266ad",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "ecc8382a-0920-4684-907f-842506af48ca"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 11,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [
        "e0895e79-e766-492b-8334-39068e97cafa",
        "0be1db86-ad48-459a-829e-542292a7e8e1",
        "f40c36e0-bc1d-4fbb-9598-426edcb1e94c",
        "fe9b5316-2f02-4331-a942-663717dd1dee",
        "92f2e4de-0c97-4d6d-853c-686fc37d2a0f",
        "ef6893fe-4001-4901-975c-6e3528108733",
        "50347f58-f001-470d-8d29-6cedb28c8174",
        "e03cdf3c-9524-4acd-8cfe-b7f2a1ed6ac7",
        "9d1a3368-4065-41b4-884f-c17fe4d33591"
      ],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 105,
      "root": true,
      "rootEmpty": false,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.5"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "[object Object]": true
      },
      "version": "6.3.2"
    }
  }
}