{
  "stats": {
    "suites": 2,
    "tests": 10,
    "passes": 10,
    "pending": 0,
    "failures": 0,
    "start": "2025-12-11T15:32:07.965Z",
    "end": "2025-12-11T15:32:09.863Z",
    "duration": 1898,
    "testsRegistered": 10,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
      "title": "",
      "fullFile": "",
      "file": "",
      "beforeHooks": [
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 293,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n  .post('/public/authUser')\n  .withJson({\n    email: 'admin@admin.com',\n    password: 'admin123'\n  })\n  .expectStatus(200)\n  .returns('data.token');",
          "err": {},
          "uuid": "d7eb9bb4-4ffe-4448-8ad9-3a675f933265",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 267,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n    .post('/public/authUser')\n    .withJson({\n      email: 'admin@admin.com',\n      password: 'admin123'\n    })\n    .expectStatus(200)\n    .returns('data.token');\n  categoryId = await spec()\n    .post('/api/addCategory')\n    .withHeaders('authorization', token)\n    .withJson({\n      name: 'Categoria Setup Teste',\n      description: 'Criada no setup global'\n    })\n    .expectStatus(200)\n    .returns('data._id');\n  console.log(\"Categoria criada no setup:\", categoryId);",
          "err": {},
          "uuid": "04749dd9-eab6-4d8d-87e6-ca1960d884f8",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 3,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "addFlowReporter();\nawait mock.start(4000);",
          "err": {},
          "uuid": "39111114-6ef0-4bcd-9234-04055689a800",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 268,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n  .post('/public/authUser')\n  .withJson({\n    email: 'admin@admin.com',\n    password: 'admin123'\n  })\n  .expectStatus(200)\n  .returns('data.token');",
          "err": {},
          "uuid": "275f2751-441f-4c3b-925a-7f34ab654112",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": true,
          "skipped": false
        },
        {
          "title": "\"before all\" hook in \"{root}\"",
          "fullTitle": "\"before all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 292,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "token = await spec()\n    .post('/public/authUser')\n    .withJson({\n      email: 'admin@admin.com',\n      password: 'admin123'\n    })\n    .expectStatus(200)\n    .returns('data.token');\n  productId = await spec()\n    .post('/api/addProduct')\n    .withHeaders('authorization', token)\n    .withJson({\n      name: 'Produto Setup Teste',\n      description: 'Criada no setup global',\n      price: 10,\n      quantity: 1,\n      visible: true\n    })\n    .expectStatus(200)\n    .returns('data._id');\n  console.log(\"Produto criado no setup:\", productId);",
          "err": {},
          "uuid": "14ac0f84-081c-4b8a-80b5-1a2ae59e193d",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": true,
          "skipped": false
        }
      ],
      "afterHooks": [
        {
          "title": "\"after all\" hook in \"{root}\"",
          "fullTitle": "\"after all\" hook in \"{root}\"",
          "timedOut": false,
          "duration": 81,
          "state": null,
          "speed": null,
          "pass": false,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await mock.stop();\nawait reporter.end();",
          "err": {},
          "uuid": "920905d7-ed61-4ab4-8465-12b1c8b14280",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": true,
          "skipped": false
        }
      ],
      "tests": [
        {
          "title": "API - Deve adicionar uma categoria com sucesso",
          "fullTitle": "API - Deve adicionar uma categoria com sucesso",
          "timedOut": false,
          "duration": 18,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "categoryId = await spec()\n  .post('/api/addCategory')\n  .withHeaders('authorization', token)\n  .withJson({\n    name: 'Categoria Automática',\n    description: 'Criada para o teste'\n  })\n  .expectStatus(200)\n  .returns('data._id');\nconsole.log(\"ID criada:\", categoryId);",
          "err": {},
          "uuid": "fc8ef0b7-d6d9-4970-8bb5-d6204b018a88",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve editar a categoria pelo ID",
          "fullTitle": "API - Deve editar a categoria pelo ID",
          "timedOut": false,
          "duration": 17,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\n  const categoryId = getCategoryId();\n\n  await spec()\n .put(`/api/editCategory/${categoryId}`)\n .withHeaders('authorization', token)\n .withJson({\n   \n   name: 'Categoria Editada Automático',\n   description: 'Categoria atualizada via teste automático'\n })\n .expectStatus(200)\n .expectJsonLike({\n   success: true\n });",
          "err": {},
          "uuid": "34613dbd-63db-488b-9d33-1f826d88a3f8",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve deletar a categoria pelo ID",
          "fullTitle": "API - Deve deletar a categoria pelo ID",
          "timedOut": false,
          "duration": 15,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\n  const categoryId = getCategoryId();\n\n  await spec()\n .delete(`/api/deleteCategory/${categoryId}`)\n .withHeaders('authorization', token)\n .expectStatus(200)\n .expectJsonLike({\n   success: true\n });",
          "err": {},
          "uuid": "91766dfd-5a20-455b-93ca-3f57f07499d0",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "CONTRATO - deve validar o contrato ao adicionar categoria",
          "fullTitle": "CONTRATO - deve validar o contrato ao adicionar categoria",
          "timedOut": false,
          "duration": 9,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await flow('Add Category')\n  .useInteraction('Add Category Response')\n  .post('http://localhost:4000/api/addCategory')\n  .withJson({\n    name: 'Categoria Automática',\n    description: 'Criada para o teste'\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n    success: true,\n    data: {\n      _id: like('679f50eb0cf0a913258b286c'),\n      name: like('Categoria Automática'),\n      description: like('Criada para o teste')\n    }\n  });",
          "err": {},
          "uuid": "f22d48af-ddc2-427c-aa27-8ed33a955a63",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "CONTRATO - deve validar o contrato ao adicionar produto",
          "fullTitle": "CONTRATO - deve validar o contrato ao adicionar produto",
          "timedOut": false,
          "duration": 2,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "await flow('Add Product')\n  .useInteraction('Add Product Response')\n  .post('http://localhost:4000/api/addProduct')\n  .withJson({\n    name: 'Produto Automático',\n    price: 99.9,\n    quantity: 10,\n    visible: true\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n    success: true,\n    data: {\n      _id: like('679f50eb0cf0a913258b999'),\n      name: like('Produto Automático'),\n      price: like(99.9),\n      quantity: like(10),\n      visible: like(true)\n    }\n  });",
          "err": {},
          "uuid": "0674b184-3a83-4b7d-9cc9-7b2c9a91d40b",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve adicionar um produto com sucesso",
          "fullTitle": "API - Deve adicionar um produto com sucesso",
          "timedOut": false,
          "duration": 12,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "productId = await spec()\n  .post('/api/addProduct')\n  .withHeaders('authorization', token)\n  .withJson({\n    name: randomName(),\n    price: randomPrice(),\n    quantity: Math.floor(Math.random() * 100),\n    visible: true\n  })\n  .expectStatus(200)\n  .returns('data._id');\nconsole.log(\"ID criada:\", productId);",
          "err": {},
          "uuid": "dc4c5c1e-b6a5-42d8-b1eb-8fb278fef236",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve editar o Produto pelo ID",
          "fullTitle": "API - Deve editar o Produto pelo ID",
          "timedOut": false,
          "duration": 17,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\nconst productId = getProductId();\nawait spec()\n  .put(`/api/editProduct/${productId}`)\n  .withHeaders('authorization', token)\n  .withJson({\n    \n    name: randomName(),\n    price: randomPrice(),\n    quantity: randomQuantity(),\n    visible: true,\n    description: 'Produto atualizado via teste automático'\n  })\n  .expectStatus(200)\n  .expectJsonLike({\n    success: true\n  });\n  console.log('Produto editado com sucesso:', productId);",
          "err": {},
          "uuid": "0a033604-f96e-4761-a0ae-6919674287de",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        },
        {
          "title": "API - Deve deletar o produto",
          "fullTitle": "API - Deve deletar o produto",
          "timedOut": false,
          "duration": 17,
          "state": "passed",
          "speed": "fast",
          "pass": true,
          "fail": false,
          "pending": false,
          "context": null,
          "code": "const token = getToken();\n  const productId = getProductId();\n\n  await spec()\n .delete(`/api/deleteProduct/${productId}`)\n .withHeaders('authorization', token)\n .expectStatus(200)\n .expectJsonLike({\n   success: true\n });\n console.log('Produto deletado com sucesso:', productId);",
          "err": {},
          "uuid": "1b1df989-c9ba-487d-bbe3-c9fb5114e38d",
          "parentUUID": "1bb2628a-66fd-4833-912a-9aee7c1140a1",
          "isHook": false,
          "skipped": false
        }
      ],
      "suites": [
        {
          "uuid": "3d3767ac-ea50-4f0e-a6d9-edad0f2f1b86",
          "title": "PROVIDER - Add Category",
          "fullFile": "C:\\repositorio\\ExercicioModulo24\\test\\contract\\addCategoryProvider.test.js",
          "file": "\\test\\contract\\addCategoryProvider.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"PROVIDER - Add Category\"",
              "fullTitle": "PROVIDER - Add Category \"before all\" hook in \"PROVIDER - Add Category\"",
              "timedOut": false,
              "duration": 290,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "token = await spec()\n   .post(\"http://lojaebac.ebaconline.art.br/public/authUser\")\n   .withJson({\n     email: \"admin@admin.com\",\n     password: \"admin123\"\n   })\n   .expectStatus(200)\n   .returns(\"data.token\");",
              "err": {},
              "uuid": "c7f6503f-d5d6-43e4-8ef5-167303fb6c9a",
              "parentUUID": "3d3767ac-ea50-4f0e-a6d9-edad0f2f1b86",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Backend deve cumprir o contrato esperado",
              "fullTitle": "PROVIDER - Add Category Backend deve cumprir o contrato esperado",
              "timedOut": false,
              "duration": 14,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await spec()\n  .post(\"http://lojaebac.ebaconline.art.br/api/addCategory\")\n  .withHeaders(\"authorization\", token)\n  .withJson({\n    name: \"Categoria Automática\",\n    description: \"Criada para o teste\"\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n  success: true,\n  data: {\n_id: like(\"string\"),\nname: \"Categoria Automática\",\ncreatedAt: like(\"string\"),\nupdatedAt: like(\"string\"),\n__v: like(0)\n  }\n});",
              "err": {},
              "uuid": "36c5f589-7cfd-4321-990a-7bd80f139d04",
              "parentUUID": "3d3767ac-ea50-4f0e-a6d9-edad0f2f1b86",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "36c5f589-7cfd-4321-990a-7bd80f139d04"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 14,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "7327f75c-2578-4116-95e6-e3b67ca55216",
          "title": "PROVIDER - Add Product",
          "fullFile": "C:\\repositorio\\ExercicioModulo24\\test\\contract\\addProductProvider.test.js",
          "file": "\\test\\contract\\addProductProvider.test.js",
          "beforeHooks": [
            {
              "title": "\"before all\" hook in \"PROVIDER - Add Product\"",
              "fullTitle": "PROVIDER - Add Product \"before all\" hook in \"PROVIDER - Add Product\"",
              "timedOut": false,
              "duration": 263,
              "state": null,
              "speed": null,
              "pass": false,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "token = await spec()\n      .post(\"http://lojaebac.ebaconline.art.br/public/authUser\")\n      .withJson({\n        email: \"admin@admin.com\",\n        password: \"admin123\"\n      })\n      .expectStatus(200)\n      .returns(\"data.token\");",
              "err": {},
              "uuid": "bfbc90ed-525a-4b91-a5c1-4a8e4c929de5",
              "parentUUID": "7327f75c-2578-4116-95e6-e3b67ca55216",
              "isHook": true,
              "skipped": false
            }
          ],
          "afterHooks": [],
          "tests": [
            {
              "title": "Backend deve cumprir o contrato REAL ao adicionar um produto",
              "fullTitle": "PROVIDER - Add Product Backend deve cumprir o contrato REAL ao adicionar um produto",
              "timedOut": false,
              "duration": 11,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "await spec()\n  .post(\"http://lojaebac.ebaconline.art.br/api/addProduct\")\n  .withHeaders(\"authorization\", token)\n  .withJson({\n    name: \"Produto Automático\",\n    price: 20,\n    quantity: 100,\n    visible: true\n  })\n  .expectStatus(200)\n  .expectJsonMatch({\n    success: true,\n    data: {\n      _id: like(\"string\"),\n      name: \"Produto Automático\",\n      price: like(20),\n      quantity: like(100),\n      visible: like(true),\n      createdAt: like(\"string\"),\n      updatedAt: like(\"string\"),\n      __v: like(0)\n    }\n  });",
              "err": {},
              "uuid": "4eedb7e4-9362-43b3-9536-0d7192bde475",
              "parentUUID": "7327f75c-2578-4116-95e6-e3b67ca55216",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "4eedb7e4-9362-43b3-9536-0d7192bde475"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 11,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [
        "fc8ef0b7-d6d9-4970-8bb5-d6204b018a88",
        "34613dbd-63db-488b-9d33-1f826d88a3f8",
        "91766dfd-5a20-455b-93ca-3f57f07499d0",
        "f22d48af-ddc2-427c-aa27-8ed33a955a63",
        "0674b184-3a83-4b7d-9cc9-7b2c9a91d40b",
        "dc4c5c1e-b6a5-42d8-b1eb-8fb278fef236",
        "0a033604-f96e-4761-a0ae-6919674287de",
        "1b1df989-c9ba-487d-bbe3-c9fb5114e38d"
      ],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 107,
      "root": true,
      "rootEmpty": false,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "11.7.5"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": true,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.4"
    },
    "marge": {
      "options": {
        "[object Object]": true
      },
      "version": "6.3.2"
    }
  }
}